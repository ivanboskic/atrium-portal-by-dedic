!function(o){"use strict";"function"==typeof define&&define.amd?define(["jquery"],o):"undefined"!=typeof exports?module.exports=o(require("jquery")):o(jQuery)}(function(o){"use strict";var t=window.Plaxmove||{};t=function(){function t(t,n){var i,a=this;a.defaults={$canvas:o(window),$layer:o(t),center:{x:0,y:0},"initialСoordinates":{x:0,y:0},ratio:{x:.2,y:.2}},a.setСoordinates=o.proxy(a.setСoordinates,a),a.moveHandler=o.proxy(a.moveHandler,a),a.animateProps=o.proxy(a.animateProps,a),a.instanceUid=e++,i=o(t).data("plaxmove")||{},a.options=o.extend({},a.defaults,i,n),a.init(!0)}var e=0;return t}(),t.prototype.init=function(t){var e=this;o(e.$layer).hasClass("plaxmove-initialized")||(o(e.$layer).addClass("plaxmove-initialized"),e.initializeEvents())},t.prototype.initializeEvents=function(){var t=this;t.options.$canvas.on("touchmove.plaxmove mousemove.plaxmove",{action:"move"},t.moveHandler.throttle(100)),o(window).on("resize.plaxmove.plaxmove-"+t.instanceUid,t.setСoordinates),o(window).on("load.plaxmove.plaxmove-"+t.instanceUid,t.setСoordinates),o(document).on("ready.plaxmove.plaxmove-"+t.instanceUid,t.setСoordinates)},t.prototype.setСoordinates=function(){var o=this,t=o.options.$layer.offset();o.options.initialСoordinates={x:t.left,y:t.top},o.options.center={x:o.options.$canvas.outerWidth()/2-o.options.$layer.outerWidth()/2,y:o.options.$canvas.outerHeight()/2-o.options.$layer.outerHeight()/2}},t.prototype.moveHandler=function(o){var t=this,e=t.options.initialСoordinates.x+(o.pageX-t.options.center.x)*t.options.ratio.x,n=t.options.initialСoordinates.y+(o.pageY-t.options.center.y)*t.options.ratio.y;t.animateProps(e,n)},t.prototype.animateProps=function(o,t){{var e=this,n=function(){var o=window.getComputedStyle(document.documentElement,""),t=(Array.prototype.slice.call(o).join("").match(/-(moz|webkit|ms)-/)||""===o.OLink&&["","o"])[1],e="WebKit|Moz|MS|O".match(new RegExp("("+t+")","i"))[1];return{dom:e,lowercase:t,css:"-"+t+"-",js:t[0].toUpperCase()+t.substr(1)}}();n.css+"transform"}e.options.$layer.css({transform:"translate("+o+"px,"+t+"px)"})},o.fn.plaxmove=function(){var o,e=this,n=arguments[0],i=Array.prototype.slice.call(arguments,1),a=e.length,r=0;for(r;a>r;r++)if("object"==typeof n||"undefined"==typeof n?e[r].plaxmove=new t(e[r],n):o=e[r].plaxmove[n].apply(e[r].plaxmove,i),"undefined"!=typeof o)return o;return e},Function.prototype.throttle=function(o){var t=this,e=null,n=o;return function(){var o=this,i=arguments,a=Date.now();(!e||a-e>=n)&&(e=a,t.apply(o,i))}}});